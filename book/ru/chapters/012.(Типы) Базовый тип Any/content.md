# Базовый тип Any

![Chapter Cover](./images/chapter-cover.png)

## Базовый Тип Any

То что _TypeScript_ является типизированной надстройкой над _JavaScript_, от которой после компиляции не остается и следа, означает что первый перенял от второго всю его идеологию. Одним из таких моментов является разделение типов данных на типы значения, которые принято называть примитивными типами и ссылочные типы.

В _JavaScript_ все не объектные типы, по своей природе иммутабельные. Иммутабельность применимая к типам, означает, что значения нельзя модифицировать, а можно лишь полностью перезаписать новым значением. Из-за этого типы значения были прозваны примитивными типами.

## Any (any) произвольный тип

Все типы в _TypeScript_ являются подтипами типа данных `Any`, который указывается с помощью ключевого слова `any`. Это означает, что тип `Any` совместим в обе стороны с любым типом данных. С точки зрения системы типов, тип данных Any является _высшим типом_ (top type).

```typescript
let apple: any = 0;
apple = “”;
apple = true;
```

Тип `Any` в аннотации рекомендуется применять только в самых крайних случаях. К такому случаю можно отнести объявления переменной, которой не присваивается значение в момент объявления и при этом не известно, какой тип данных ей будет присвоен. В остальных случаях настоятельно рекомендуется, прежде всего рассматривать кандидатуру обобщенных типов, которые будут рассматриваться позднее.

Данный тип позволяет работать со значением динамически, что не вызывает ошибок при обращении к незадекларированным членам (членам, которые не были описаны в типе данных и о которых анализатор _TypeScript_ ничего не знает).

Примером этого может служить сервис, который работает с сервером посредством _api_.
После того, как данные будут получены и сериализованы, но прежде чем они будут преобразованы к какому-то конкретному типу данных, сервис может хранить их, как тип `Any`.

```typescript
let data: any = JSON.parse('{"id": "abc"}');
let id = data.id; // Ok
```

В случае, если при объявлении переменных `var` и `let`, а также полей объявленных в теле класса, не было присвоено значение, то компилятором будет выведен тип данных `Any`.

```typescript
var apple; // apple: any
let lemon; // lemon: any

class Fruit {
    name; // name: any
}
```

Тоже правило касается и параметров функции.

```typescript
function weight(fruit) {} /** fruit: any */
```

Кроме того, если функция возвращает значение принадлежащего к типу, который она не в состоянии вывести, то возвращаемый этой функцией тип данных будет выведен как тип `Any`.

```typescript
function sum(a, b) {
    return a + b;
} // function sum(a: any, b: any): any
```

Тип `Any` является уникальным для _TypeScript_, в _JavaScript_ подобного типа не существует.

## Итог

Подведем итоги -

-   Тип данных `Any` является супертипом для всех типов в _TypeScript_ и указывается с помощью ключевого слова `any`.
-   Тип данных `Any` указывается тогда, когда тип данных заранее не известен.
-   Тип данных `Any` указывается только в самых крайних случаях.
-   Тип данных `Any` позволяет обращаться к незадекларированным членам объектов, имитируя динамическое поведение, тем самым перекладывая ответственность за проверку реализации интерфейса на разработчика.
