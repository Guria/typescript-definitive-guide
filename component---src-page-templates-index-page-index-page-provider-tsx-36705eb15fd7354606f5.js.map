{"version":3,"sources":["webpack:///./src/enums/AppNavId.ts","webpack:///./src/enums/LocalStorageKey.ts","webpack:///./src/react__hooks/useVersionInfo.ts","webpack:///./src/page-templates/index-page/IndexPage.tsx","webpack:///./src/react__hooks/use-welcome-description-index.ts","webpack:///./src/stores/IndexPageMobxEntry.ts","webpack:///./src/page-templates/index-page/IndexPageProvider.tsx"],"names":["AppNavId","LocalStorageKey","VersionInfoContext","observer","_ref","appNav","versionInfo","_useTranslator","AppNavigation","IndexPageGui","appNavigation","subtitleAll","indexNavAll","find","i","id","BookContents","WhatIsNewContents","subtitleIndex","length","currentIndex","window","_window$localStorage$","prevIndex","localStorage","getItem","SubtitleIndexIndexPage","parseInt","setItem","toString","some","item","navItemNames","filter","map","name","join","Error","indexNavAssert","nav","navItem","createElement","className","key","path","to","Fragment","mmp","preReleaseName","IndexPageMobxEntry","getInstance","params","instance","create","location","router","RouterStore","pageContext","localization","appSharedLocalization","pages","mobxEntry","Provider","value","BaseLayout"],"mappings":"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","file":"component---src-page-templates-index-page-index-page-provider-tsx-36705eb15fd7354606f5.js","sourcesContent":["export var AppNavId;\n\n(function (AppNavId) {\n  AppNavId[\"BookContents\"] = \"book-contents\";\n  AppNavId[\"WhatIsNewContents\"] = \"what-is-new-contents\";\n})(AppNavId || (AppNavId = {}));","export var LocalStorageKey;\n\n(function (LocalStorageKey) {\n  LocalStorageKey[\"SubtitleIndexIndexPage\"] = \"subtitleIndex_IndexPage\";\n})(LocalStorageKey || (LocalStorageKey = {}));","import { createContext, useContext } from \"react\";\nexport var VersionInfoContext = /*#__PURE__*/createContext(null);\nexport var useVersionInfo = function useVersionInfo() {\n  return useContext(VersionInfoContext);\n};","import _objectDestructuringEmpty from \"@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport \"./index.page.scss\";\nimport React from \"react\";\nimport { Link } from \"gatsby\";\nimport { observer } from \"mobx-react-lite\";\nimport { LocalizationPaths } from \"../../localization\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nimport { AppNavId } from \"../../enums/AppNavId\";\nimport { useWelcomeDescriptionIndex } from \"../../react__hooks/use-welcome-description-index\";\nimport { useVersionInfo } from \"../../react__hooks/useVersionInfo\";\n\nvar appToIndexPageNav = function appToIndexPageNav(appNav) {\n  return [appNav.find(function (i) {\n    return i.id === AppNavId.BookContents;\n  }), appNav.find(function (i) {\n    return i.id === AppNavId.WhatIsNewContents;\n  })];\n};\n\nfunction indexNavAssert(indexNavAll) {\n  if (indexNavAll.some(function (item) {\n    return !item;\n  })) {\n    var navItemNames = indexNavAll.filter(function (i) {\n      return i;\n    }).map(function (i) {\n      return i === null || i === void 0 ? void 0 : i.name;\n    }).join(\", \");\n    throw new Error(\"Index page nav is not valid. Current nav item names [\" + navItemNames + \"].\");\n  }\n}\n\nvar IndexPage = observer(function (_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  var versionInfo = useVersionInfo();\n\n  var _useTranslator = useTranslator(LocalizationPaths.AppNavigation, LocalizationPaths.IndexPageGui),\n      appNavigation = _useTranslator[0],\n      subtitleAll = _useTranslator[1].subtitleAll;\n\n  var indexNavAll = appToIndexPageNav(appNavigation);\n  var subtitleIndex = useWelcomeDescriptionIndex(subtitleAll.length);\n  indexNavAssert(indexNavAll);\n  var nav = indexNavAll.map(function (navItem) {\n    return /*#__PURE__*/React.createElement(Link, {\n      className: \"link ip-nav-link\",\n      key: navItem.path,\n      to: navItem.path\n    }, navItem.name);\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-without-driver__content-layout\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ip-title_container\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ip-subtitle\"\n  }, subtitleAll[subtitleIndex]), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ip-main-informer\"\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"ip-title_name\"\n  }, \"TypeScript Definitive Guide\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ip-title_version\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ip-title_version-mmp\"\n  }, versionInfo.mmp), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ip-title_version-release-name\"\n  }, versionInfo.preReleaseName)))), /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"ip-nav\"\n  }, nav)));\n});\nexport default IndexPage;","import { LocalStorageKey } from \"../enums/LocalStorageKey\";\nimport * as AppUtils from \"../utils/app-utils\";\nexport var useWelcomeDescriptionIndex = function useWelcomeDescriptionIndex(length) {\n  var currentIndex = 0;\n\n  if (AppUtils.isBrowser() && window) {\n    var _window$localStorage$;\n\n    var prevIndex = (_window$localStorage$ = window.localStorage.getItem(LocalStorageKey.SubtitleIndexIndexPage)) !== null && _window$localStorage$ !== void 0 ? _window$localStorage$ : \"-1\";\n    currentIndex = parseInt(prevIndex) + 1;\n    currentIndex = currentIndex >= length ? 0 : currentIndex;\n    window.localStorage.setItem(LocalStorageKey.SubtitleIndexIndexPage, currentIndex.toString());\n  }\n\n  return currentIndex;\n};","import { createContext, useContext } from \"react\";\nimport { RouterStore } from \"./RouterStore\";\nexport var IndexPageMobxEntry = /*#__PURE__*/function () {\n  function IndexPageMobxEntry() {}\n\n  IndexPageMobxEntry.getInstance = function getInstance(params) {\n    if (!IndexPageMobxEntry.instance) {\n      IndexPageMobxEntry.instance = IndexPageMobxEntry.create(params);\n    }\n\n    return IndexPageMobxEntry.instance;\n  };\n\n  return IndexPageMobxEntry;\n}();\n\nIndexPageMobxEntry.create = function (_ref) {\n  var location = _ref.location;\n  var router = new RouterStore(location);\n  return {\n    router: router\n  };\n};\n\nexport var MobxIndexPageContext = /*#__PURE__*/createContext(null);\nexport var useIndexPageStores = function useIndexPageStores() {\n  return useContext(MobxIndexPageContext);\n};","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from \"react\";\nimport IndexPage from \"./IndexPage\";\nimport SEO from \"../../components/seo\";\nimport { Localization } from \"../../react__hooks/translator.hook\";\nimport BaseLayout from \"../../layouts/base-layout/BaseLayout\";\nimport { RouterStoreContext } from \"../../stores/RouterStore\";\nimport { IndexPageMobxEntry } from \"../../stores/IndexPageMobxEntry\";\nimport { VersionInfoContext } from \"../../react__hooks/useVersionInfo\";\n\nvar IndexPageProvider = function IndexPageProvider(_ref) {\n  var pageContext = _ref.pageContext,\n      location = _ref.location;\n  var localization = pageContext.localization,\n      versionInfo = pageContext.versionInfo;\n\n  var pages = localization.pages,\n      appSharedLocalization = _objectWithoutPropertiesLoose(localization, [\"pages\"]);\n\n  var mobxEntry = IndexPageMobxEntry.getInstance({\n    location: location\n  });\n  return /*#__PURE__*/React.createElement(Localization.Provider, {\n    value: localization\n  }, /*#__PURE__*/React.createElement(VersionInfoContext.Provider, {\n    value: versionInfo\n  }, /*#__PURE__*/React.createElement(RouterStoreContext.Provider, {\n    value: mobxEntry.router\n  }, /*#__PURE__*/React.createElement(BaseLayout, null, /*#__PURE__*/React.createElement(SEO, appSharedLocalization), /*#__PURE__*/React.createElement(IndexPage, null)))));\n};\n\nexport default IndexPageProvider;"],"sourceRoot":""}